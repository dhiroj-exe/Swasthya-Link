<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Emergency | Swasthya Link</title>
   <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <style>
    .button-3d {
      box-shadow: 0 4px 8px rgba(0, 128, 128, 0.2);
      transition: all 0.2s ease-in-out;
    }

    .button-3d:hover {
      transform: scale(1.05);
    }

    .card-animate {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .card-animate:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
  </style>
</head>
<body class="bg-gradient-to-b from-gray-100 via-slate-100/70 to-blue-100 text-slate-800">
  <!-- Navbar -->
  <nav class="flex justify-between items-center px-6 py-4 shadow bg-white/90 backdrop-blur-md sticky top-0 z-50 border-b border-slate-200">
    <div class="flex items-center gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-teal-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c1.656 0 3-1.567 3-3.5S13.656 1 12 1 9 2.567 9 4.5 10.344 8 12 8zM3 20c0-2.5 3-4 9-4s9 1.5 9 4v1H3v-1z" />
      </svg>
      <span class="text-2xl font-bold text-teal-600">Swasthya<span class="text-indigo-600">Link</span></span>
    </div>
    <div class="hidden lg:flex items-center gap-6 text-sm font-medium text-gray-600">
  <a href="index.html" class="px-3 py-2 rounded-md transition duration-200 hover:text-white hover:bg-teal-500 hover:scale-105">Home</a>
  
  <a href="hospital.html" class="px-3 py-2 rounded-md transition duration-200 hover:text-white hover:bg-teal-500 hover:scale-105">Find Hospitals</a>
  <a href="beds.html" class="px-3 py-2 rounded-md transition duration-200 hover:text-white hover:bg-teal-500 hover:scale-105">Beds</a>
  <a href="blood.html" class="px-3 py-2 rounded-md transition duration-200 hover:text-white hover:bg-teal-500 hover:scale-105">Blood</a>
  <a href="emergency.html" class="px-3 py-2 rounded-md transition duration-200 hover:text-white hover:bg-teal-500 hover:scale-105">Emergency</a>
  <a href="ai assistant.html" class="px-3 py-2 rounded-md transition duration-200 hover:text-white hover:bg-teal-500 hover:scale-105">AI Assistant</a>
    </div>

    <div class="md:hidden">
      <button id="menu-toggle" aria-label="Toggle Menu">
        <svg class="w-6 h-6 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
    <div class="hidden md:flex gap-2">
      <button class="px-4 py-1.5 border border-teal-500 text-teal-600 hover:bg-teal-500 hover:text-white rounded-md text-sm transition button-3d">
        Login
      </button>
      <a href="signupHospital.html">
        <button class="w-full px-4 py-1.5 bg-teal-500 hover:bg-teal-400 text-white rounded-md text-sm transition button-3d">Sign Up as a hospital</button>
      </a>
      <a href="signupUSER.html">
        <button class="w-full px-4 py-1.5 bg-teal-500 hover:bg-teal-400 text-white rounded-md text-sm transition button-3d">Sign Up as a user</button>
      </a>    
    </div>
  </nav>
   <!-- Mobile Menu -->
  <div id="mobile-menu" class="md:hidden hidden flex flex-col gap-2 px-6 py-4 bg-white shadow border-b border-slate-200 text-sm font-medium text-slate-600">
    <a href="index.html" class="hover:text-teal-600">Home</a>
    <a href="dashboard.html" class="hover:text-teal-600">Dashboard</a>
    <a href="hospital.html" class="hover:text-teal-600">Find Hospitals</a>
    <a href="beds.html" class="hover:text-teal-600">Beds</a>
    <a href="blood.html" class="hover:text-teal-600">Blood</a>
    <a href="emergency.html" class="hover:text-teal-600">Emergency</a>
    <a href="ai assistant.html" class="hover:text-teal-600">AI Assistant</a>
    <div class="flex gap-2 mt-2">
      <button class="w-full px-4 py-1.5 border border-teal-500 text-teal-600 hover:bg-teal-500 hover:text-white rounded-md text-sm transition button-3d">Login</button>
      <a href="signupHospital.html"><button class="w-full px-4 py-1.5 bg-teal-500 hover:bg-teal-400 text-white rounded-md text-sm transition button-3d">Sign Up as a hospital</button></a>
      <a href="signupUSER.html"><button class="w-full px-4 py-1.5 bg-teal-500 hover:bg-teal-400 text-white rounded-md text-sm transition button-3d">Sign Up as a user</button></a>
    </div>
  </div>

 
  <!-- Emergency Form -->
  <section class="max-w-3xl mx-auto my-12 px-6">
    <div class="bg-white p-8 rounded-xl shadow-lg card-animate">
      <h2 class="text-2xl font-bold text-red-600 mb-3">ðŸš¨ Emergency Report</h2>
      <p class="text-gray-600 mb-6">Please fill in the details below so that we can dispatch immediate assistance.</p>
      <form id="emergencyForm" class="space-y-5">
        <div>
          <label class="block font-semibold mb-1">Type of Emergency</label>
          <select class="w-full border border-gray-300 rounded-md px-4 py-2" required>
            <option value="">-- Select --</option>
            <option>Accident</option>
            <option>Medical</option>
            <option>Ambulance Needed</option>
            <option>Fire</option>
            <option>Other</option>
          </select>
        </div>
        <div>
          <label class="block font-semibold mb-1">Location</label>
          <input id="locationField" type="text" placeholder="Detecting location..." class="w-full border border-gray-300 rounded-md px-4 py-2" required />
        </div>
        <div>
          <label class="block font-semibold mb-1">Contact Number</label>
          <input type="tel" placeholder="+91 XXXXXXXXXX" class="w-full border border-gray-300 rounded-md px-4 py-2" required />
        </div>
        <div>
          <label class="block font-semibold mb-1">Additional Details(optional)</label>
          <textarea placeholder="Describe the situation..." class="w-full border border-gray-300 rounded-md px-4 py-2 h-24 resize-none"></textarea>
        </div>

          <!-- Additional Details -->
        <div>
          <label class="block text-sm font-semibold mb-1">Additional Details (optional)</label>
          <textarea name="details" rows="4" class="w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-400 transition"></textarea>
        </div>

        <!-- Image Upload -->
        <div>
          <label class="block text-sm font-semibold mb-1">Upload Image (optional)</label>
          <input type="file" name="image" accept="image/*" class="w-full" />
        </div>

        <!-- Voice Recording -->
        <div>
          <label class="block text-sm font-semibold mb-1">Record Voice Message</label>
          <div class="flex gap-4 mt-2">
            <button type="button" onclick="startRecording()" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition duration-300">
              ðŸŽ¤ Start
            </button>
            <button type="button" onclick="stopRecording()" class="px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition duration-300">
              ðŸ›‘ Stop
            </button>
          </div>
          <audio id="audioPlayback" controls class="mt-3 hidden w-full rounded-lg shadow-sm"></audio>
          <input type="hidden" name="audio_blob" id="audioBlob" />
        </div>

        <!-- Submit Button -->
        <div>
          <button type="submit" class="w-full bg-red-500 hover:bg-red-600 text-white font-semibold py-2 rounded-md transition button-3d">
             Submit Emergency Report
          </button>
        </div>
      </form>
    </div>

    
       
      </form>
    </div>
  </section>

   <!-- Google Maps API Script with Reverse Geocoding -->
<script>
  function initMap() {
    const locationField = document.getElementById("locationField");

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(
        (position) => {
          const lat = position.coords.latitude;
          const lng = position.coords.longitude;

          const geocoder = new google.maps.Geocoder();
          const latlng = { lat, lng };

          geocoder.geocode({ location: latlng }, (results, status) => {
            if (status === "OK" && results[0]) {
              locationField.value = results[0].formatted_address;
            } else {
              locationField.value = `Lat: ${lat}, Lon: ${lng}`;
            }
          });
        },
        (error) => {
          console.error("Location error:", error);
          locationField.placeholder = "Could not fetch location.";
        },
        {
          enableHighAccuracy: true,
          timeout: 10000,
          maximumAge: 0
        }
      );
    } else {
      locationField.placeholder = "Geolocation not supported.";
    }
  }
</script>

<!-- Google Maps JavaScript API (Replace YOUR_API_KEY) -->
<script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA6tKKEKy5mYN9_ER4PSgsmwTD9I_ciWbE&callback=initMap">
</script>
<!-- Recorder Script -->
    <script>
      let mediaRecorder, audioChunks = [];

      function startRecording() {
        navigator.mediaDevices.getUserMedia({ audio: true })
          .then(stream => {
            mediaRecorder = new MediaRecorder(stream);
            audioChunks = [];

            mediaRecorder.ondataavailable = e => audioChunks.push(e.data);
            mediaRecorder.onstop = () => {
              const blob = new Blob(audioChunks, { type: 'audio/webm' });
              const audioUrl = URL.createObjectURL(blob);
              const audio = document.getElementById("audioPlayback");
              audio.src = audioUrl;
              audio.classList.remove("hidden");

              // Base64 encode
              const reader = new FileReader();
              reader.onloadend = () => {
                document.getElementById("audioBlob").value = reader.result;
              };
              reader.readAsDataURL(blob);
            };

            mediaRecorder.start();
          });
      }

      function stopRecording() {
        if (mediaRecorder && mediaRecorder.state !== "inactive") {
          mediaRecorder.stop();
        }
      }
</script>

 

</body>
</html>
